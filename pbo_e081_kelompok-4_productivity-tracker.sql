DROP TABLE IF EXISTS `catatan`;
DROP TABLE IF EXISTS `pengguna`;

CREATE TABLE `pengguna` (
    `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `nama` VARCHAR(255) NOT NULL,
    `password` VARCHAR(255) NOT NULL,
    `target_mulai` TIME NOT NULL,
    `target_selesai` TIME NOT NULL,
    `target_produktifitas` TIME NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE (`nama`)
);

CREATE TABLE `catatan` (
    `id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
    `id_pengguna` INT UNSIGNED NOT NULL,
    `target_mulai` TIME NOT NULL,
    `target_selesai` TIME NOT NULL,
    `mulai` TIME NOT NULL,
    `selesai` TIME NOT NULL,
    `target_produktifitas` TIME NOT NULL,
    `tingkat_keproduktifan` DOUBLE,
    `tanggal` DATE NOT NULL,
    PRIMARY KEY (`id`),
    FOREIGN KEY (`id_pengguna`) REFERENCES `pengguna`(`id`)
);

INSERT INTO `pengguna` (`nama`, `password`, `target_mulai`, `target_selesai`, `target_produktifitas`) VALUES ('pengguna', '123', '08:30:00', '16:30:00', '07:00:00');

INSERT INTO `catatan` (`id_pengguna`, `target_mulai`, `target_selesai`, `mulai`, `selesai`, `target_produktifitas`, `tingkat_keproduktifan`, `tanggal`) VALUES
(1, '08:00:00', '16:00:00', '08:12:00', '16:07:00', '07:00:00', 87.50911553286801, '2024-05-01'),
(1, '08:00:00', '16:00:00', '08:04:00', '15:57:00', '07:00:00', 99.87396856347942, '2024-05-02'),
(1, '08:00:00', '16:00:00', '07:53:00', '16:13:00', '07:00:00', 77.83543365455893, '2024-05-03'),
(1, '08:00:00', '16:00:00', '08:01:00', '16:02:00', '07:00:00', 87.49817712130998, '2024-05-04'),
(1, '08:00:00', '16:00:00', '08:17:00', '16:14:00', '07:00:00', 87.50546909181823, '2024-05-05'),
(1, '08:30:00', '16:30:00', '08:23:00', '16:33:00', '06:30:00', 75.04686523640908, '2024-05-06'),
(1, '08:30:00', '16:30:00', '08:29:00', '16:29:00', '06:30:00', 75.0625, '2024-05-07'),
(1, '08:30:00', '16:30:00', '08:34:00', '16:38:00', '06:30:00', 75.0562453128906, '2024-05-08'),
(1, '08:30:00', '16:30:00', '08:26:00', '16:27:00', '06:30:00', 75.0609362304952, '2024-05-09'),
(1, '08:30:00', '16:30:00', '08:37:00', '16:34:00', '06:30:00', 75.06719169948121, '2024-05-10'),
(1, '09:00:00', '17:00:00', '09:00:00', '17:01:00', '07:30:00', 87.56067581925376, '2024-05-11'),
(1, '09:00:00', '17:00:00', '09:13:00', '17:14:00', '07:30:00', 87.56067581925376, '2024-05-12'),
(1, '09:00:00', '17:00:00', '08:55:00', '16:56:00', '07:30:00', 87.56067581925376, '2024-05-13'),
(1, '09:00:00', '17:00:00', '09:08:00', '17:11:00', '07:30:00', 87.55702768576964, '2024-05-14'),
(1, '09:00:00', '17:00:00', '09:15:00', '17:09:00', '07:30:00', 87.5734466808351, '2024-05-15'),
(1, '08:00:00', '16:00:00', '07:49:00', '16:06:00', '06:45:00', 66.80319513686824, '2024-05-16'),
(1, '08:00:00', '16:00:00', '08:03:00', '16:02:00', '06:45:00', 75.09531448571846, '2024-05-17'),
(1, '08:00:00', '16:00:00', '08:02:00', '16:04:00', '06:45:00', 75.09062122411567, '2024-05-18'),
(1, '08:00:00', '16:00:00', '08:11:00', '16:14:00', '06:45:00', 75.08905693394163, '2024-05-19'),
(1, '08:00:00', '16:00:00', '07:56:00', '15:54:00', '06:45:00', 75.09687903662653, '2024-05-20'),
(1, '08:00:00', '16:00:00', '08:22:00', '16:17:00', '06:45:00', 75.10157308052922, '2024-05-21'),
(1, '08:00:00', '16:00:00', '08:10:00', '16:07:00', '06:45:00', 75.09844365272829, '2024-05-22'),
(1, '08:00:00', '16:00:00', '08:01:00', '16:00:00', '06:45:00', 75.09531448571846, '2024-05-23'),
(1, '08:00:00', '16:00:00', '08:15:00', '16:11:00', '06:45:00', 75.10000833402783, '2024-05-24'),
(1, '08:00:00', '16:00:00', '08:05:00', '16:04:00', '06:45:00', 75.09531448571846, '2024-05-25'),
(1, '08:00:00', '16:00:00', '07:51:00', '15:50:00', '06:45:00', 75.09531448571846, '2024-05-26'),
(1, '08:00:00', '16:00:00', '08:20:00', '16:21:00', '06:45:00', 75.0921855794671, '2024-05-27'),
(1, '08:00:00', '16:00:00', '08:13:00', '16:14:00', '06:45:00', 75.0921855794671, '2024-05-28'),
(1, '08:00:00', '16:00:00', '08:00:00', '15:59:00', '06:45:00', 85.7010390166195, '2024-05-29'),
(1, '08:00:00', '16:00:00', '07:56:00', '15:54:00', '06:45:00', 75.09687903662653, '2024-05-30'),
(1, '08:00:00', '16:00:00', '08:05:00', '16:04:00', '06:45:00', 75.09531448571846, '2024-05-31'),
(1, '08:00:00', '16:00:00', '08:02:00', '16:04:00', '06:45:00', 75.09062122411567, '2024-06-01'),
(1, '08:00:00', '16:00:00', '07:56:00', '15:54:00', '06:45:00', 75.09687903662653, '2024-05-02'),
(1, '08:00:00', '16:00:00', '08:22:00', '16:17:00', '06:45:00', 75.10157308052922, '2024-05-03'),
(1, '08:00:00', '16:00:00', '08:01:00', '16:02:00', '07:00:00', 87.49817712130998, '2024-05-04'),
(1, '08:00:00', '16:00:00', '08:17:00', '16:14:00', '07:00:00', 87.50546909181823, '2024-05-05'),
(1, '08:30:00', '16:30:00', '08:23:00', '16:33:00', '07:00:00', 87.48177463028536, '2024-05-06');
